<html>
  <head>
    <title>Chat</title>
    <style>

      input { display: block; }
      ul    { list-style: none; }

    </style>
  </head>
      

  <body>
    <form id="dl">
      <textarea></textarea>
      <input type="submit" value="Download" />
    </form>
    
    <table id="table1">
      <thead>
          <tr>
              <th>Extension</th>
              <th>Resolution</th>
              <th>VideoEncoding</th>
              <th>AudioEncoding</th>
              <th>AudioBitrate</th>                                                        
          </tr>
      </thead>
  </table>    

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

    <script>

        $(function(){
          var url = $("#dl textarea");
          var messages = $("#messages");

          $("#dl").submit(function(){
            if (!url.val()) return false;

            $.ajax({
                url: '/info/'+btoa(url.val()),
                type: 'GET',
                async: false,
                success: function(data){ 
                  $('#table1').DataTable({
                data: data.Formats,
                columns: [
                    { data: 'Extension' },
                    { data: 'Resolution' },
                    { data: 'VideoEncoding' },
                    { data: 'AudioEncoding' },
                    { data: 'AudioBitrate' }
                ],
                "pageLength": 3
            });
                },
                error: function(data) {
                    alert('woops!'); //or whatever
                }
            });            
          });
        })

    </script>

  </body>
</html>